<script setup>
import { ref, onMounted } from 'vue'
import { useDark, useToggle } from '@vueuse/core'

const isMenuOpen = ref(false)

// ‰ΩøÁî® VueUse ÁöÑ useDark ‰æÜÂÅµÊ∏¨ËàáÂàáÊèõÈªëÂ§úÊ®°Âºè
const isDark = useDark()
const toggleDark = useToggle(isDark)

const toggleMenu = () => {
  isMenuOpen.value = !isMenuOpen.value
}
</script>

<template>
  <div class="border-b border-gray-200 bg-primary p-4 dark:border-gray-700 dark:bg-primary-dark">
    <div class="container mx-auto flex items-center justify-between">
      <!-- LOGO -->
      <router-link to="/" class="text-xl font-bold text-text hover:opacity-80 dark:text-text-dark">
        MyApp
      </router-link>

      <!-- Ê°åÈù¢ÁâàÂ∞éË¶ΩÈÅ∏ÂñÆ -->
      <nav class="hidden space-x-6 md:flex">
        <router-link
          to="/"
          class="text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
        >
          Home
        </router-link>
        <router-link
          to="/about"
          class="text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
        >
          About
        </router-link>
        <router-link
          to="/contact"
          class="text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
        >
          Contact
        </router-link>
      </nav>

      <!-- ÊéßÂà∂ÈªëÂ§úÊ®°ÂºèÁöÑÊåâÈàï -->
      <button @click="toggleDark()" class="ml-4 text-text focus:outline-none dark:text-text-dark">
        <span v-if="isDark">üåô</span>
        <span v-else>‚òÄÔ∏è</span>
      </button>

      <!-- Êº¢Â†°ÈÅ∏ÂñÆÊåâÈàï (Ë°åÂãïÁâà) -->
      <button
        @click="toggleMenu"
        class="ml-4 text-text focus:outline-none dark:text-text-dark md:hidden"
      >
        <span v-if="isMenuOpen">‚úï</span>
        <span v-else>‚ò∞</span>
      </button>
    </div>

    <!-- Ë°åÂãïÁâàÈÅ∏ÂñÆ -->
    <div
      v-if="isMenuOpen"
      class="border-t border-gray-200 bg-primary p-4 text-text dark:border-gray-700 md:hidden"
    >
      <router-link
        to="/"
        class="block py-2 text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
      >
        Home
      </router-link>
      <router-link
        to="/about"
        class="block py-2 text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
      >
        About
      </router-link>
      <router-link
        to="/contact"
        class="block py-2 text-text hover:text-gray-500 dark:text-text-dark dark:hover:text-gray-400"
      >
        Contact
      </router-link>
    </div>
  </div>
</template>
